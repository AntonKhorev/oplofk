<!DOCTYPE html>
<html lang=ru>
<head>
<meta charset=utf-8>
<title>Обновление POI Адмиралтейского района СПб</title>
<link rel=stylesheet href='https://unpkg.com/leaflet@1.0.2/dist/leaflet.css'>
<script src='https://unpkg.com/leaflet@1.0.2/dist/leaflet.js'></script>
<style>
html, body {
	height: 100%;
	margin: 0;
	padding: 0;
}
#map {
	width: 100%;
	height: 100%;
}
</style>
</head>
<body>
<div id='map'>при включённом js здесь будет карта</div>
</body>
<script src='index.js'></script>
<script>
var div=document.getElementById('map')
var y1=59.940
var y2=59.896
var x1=30.251
var x2=30.343
var map=L.map(div).addLayer(L.tileLayer(
	'http://{s}.tile.osm.org/{z}/{x}/{y}.png',
	{attribution: "© <a href='http://www.openstreetmap.org/copyright'>Участники OpenStreetMap</a>"}
)).fitBounds([
	[y1,x1], // top left
	[y2,x2], // bottom right
])
for (var i=0;i<data.length;i++) {
	var segment=data[i]
	var popupHtml=
		`<strong>${segment.name}</strong><br>${segment.description}<br><br>`+
		`проверено <time>${segment.surveyDate}</time>`
	if (segment.surveyChangeset.length>0) {
		popupHtml+=`, записано в пакете <a href=http://www.openstreetmap.org/changeset/${segment.surveyChangeset}>${segment.surveyChangeset}</a>`
	}
	L.polygon(segment.nodes).bindPopup(popupHtml).addTo(map)
}
</script>
</html>
